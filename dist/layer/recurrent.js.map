{"version":3,"sources":["../../src/layer/recurrent.js"],"names":["settings","input","recurrentInput","height","setDimensions","weight","name","width","transition","bias"],"mappings":";;;;;;AAAA;;kBAEe,UAACA,QAAD,EAAWC,KAAX,EAAkBC,cAAlB,EAAqC;AAAA,MAC1CC,MAD0C,GAC/BH,QAD+B,CAC1CG,MAD0C;;;AAGlDD,iBAAeE,aAAf,CAA6B,CAA7B,EAAgCD,MAAhC;;AAEA;AACA,MAAME,SAAS,cAAO,EAAEC,MAAM,QAAR,EAAkBH,cAAlB,EAA0BI,OAAON,MAAME,MAAvC,EAAP,CAAf;AACA;AACA,MAAMK,aAAa,cAAO,EAAEF,MAAM,YAAR,EAAsBH,cAAtB,EAA8BI,OAAOJ,MAArC,EAAP,CAAnB;AACA;AACA,MAAMM,OAAO,aAAM,EAAEH,MAAM,MAAR,EAAgBH,cAAhB,EAAN,CAAb;;AAEA,SAAO,YACL,WACE,WACE,gBACEE,MADF,EAEEJ,KAFF,CADF,EAKE,gBACEO,UADF,EAEEN,cAFF,CALF,CADF,EAWEO,IAXF,CADK,CAAP;AAeD,C","file":"recurrent.js","sourcesContent":["import { relu, add, multiply, random, zeros } from './';\n\nexport default (settings, input, recurrentInput) => {\n  const { height } = settings;\n\n  recurrentInput.setDimensions(1, height);\n\n  //wxh\n  const weight = random({ name: 'weight', height, width: input.height });\n  //whh\n  const transition = random({ name: 'transition', height, width: height });\n  //bhh\n  const bias = zeros({ name: 'bias', height });\n\n  return relu(\n    add(\n      add(\n        multiply(\n          weight,\n          input\n        ),\n        multiply(\n          transition,\n          recurrentInput\n        )\n      ),\n      bias\n    )\n  );\n}"]}