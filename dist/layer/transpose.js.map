{"version":3,"sources":["../../src/layer/transpose.js"],"names":["Transpose","inputLayer","width","height","validate","predictKernel","transpose","output","compareKernel","weights","deltas","array","thread","x","y"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;;;;;;;IAEqBA,S;;;AACnB,qBAAYC,UAAZ,EAAwB;AAAA;;AAAA;;AAEtB,UAAKA,UAAL,GAAkBA,UAAlB;AACA,UAAKC,KAAL,GAAa,MAAKD,UAAL,CAAgBE,MAA7B;AACA,UAAKA,MAAL,GAAc,MAAKF,UAAL,CAAgBC,KAA9B;AACA,UAAKE,QAAL;AALsB;AAMvB;;;;mCAEc;AACb,WAAKC,aAAL,GAAqB,0BAAWC,SAAX,EAAsB;AACzCC,gBAAQ,CAAC,KAAKJ,MAAN,EAAc,KAAKD,KAAnB;AADiC,OAAtB,CAArB;AAGA,WAAKM,aAAL,GAAqB,0BAAWF,SAAX,EAAsB;AACzCC,gBAAQ,CAAC,KAAKL,KAAN,EAAa,KAAKC,MAAlB;AADiC,OAAtB,CAArB;AAGD;;;8BAES;AACR,WAAKM,OAAL,GAAe,KAAKJ,aAAL,CAAmB,KAAKJ,UAAL,CAAgBQ,OAAnC,CAAf;AACD;;;8BAES;AACR,WAAKR,UAAL,CAAgBS,MAAhB,GAAyB,KAAKL,aAAL,CAAmB,KAAKK,MAAxB,CAAzB;AACD;;;;;;kBAxBkBV,S;;;AA2BrB,SAASM,SAAT,CAAmBK,KAAnB,EAA0B;AACxB,SAAOA,MAAM,KAAKC,MAAL,CAAYC,CAAlB,EAAqB,KAAKD,MAAL,CAAYE,CAAjC,CAAP;AACD","file":"transpose.js","sourcesContent":["import { Modifier } from './types';\nimport makeKernel from '../utilities/make-kernel';\n\nexport default class Transpose extends Modifier {\n  constructor(inputLayer) {\n    super();\n    this.inputLayer = inputLayer;\n    this.width = this.inputLayer.height;\n    this.height = this.inputLayer.width;\n    this.validate();\n  }\n\n  setupKernels() {\n    this.predictKernel = makeKernel(transpose, {\n      output: [this.height, this.width]\n    });\n    this.compareKernel = makeKernel(transpose, {\n      output: [this.width, this.height]\n    })\n  }\n\n  predict() {\n    this.weights = this.predictKernel(this.inputLayer.weights);\n  }\n\n  compare() {\n    this.inputLayer.deltas = this.predictKernel(this.deltas);\n  }\n}\n\nfunction transpose(array) {\n  return array[this.thread.x][this.thread.y];\n}"]}